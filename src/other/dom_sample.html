<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOM操作のサンプル</title>
    <style>
      .highlight {
        background-color: yellow;
        font-weight: bold;
      }
      #hover-box {
        width: 150px;
        height: 50px;
        background-color: lightblue;
        margin-top: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 1px solid blue;
      }
    </style>
  </head>
  <body>
    <h1 id="main-title">DOMの学習</h1>
    <p>下のボタンをクリックすると、このテキストが変更されます。</p>
    <button id="change-text-btn">テキストを変更</button>
    <button id="toggle-highlight-btn">ハイライト切替</button>

    <h2>要素の動的追加</h2>
    <button id="add-list-item-btn">リストアイテムを追加</button>
    <ul id="my-list"></ul>

    <h2>マウスイベント</h2>
    <div id="hover-box">マウスを乗せてみて！</div>

    <h2>フォーム入力</h2>
  <input type="text" id="input-text" placeholder="何か入力してください">
  <button id="display-input-btn">入力内容を表示</button>
  <p id="display-area"></p>

  <h2>属性の変更</h2>
  <img id="my-image" src="https://via.placeholder.com/150" alt="プレースホルダー画像">
  <button id="change-image-btn">画像を切り替える</button>

  <h2>要素の削除</h2>
  <div id="removable-box" style="background-color: lightgreen; padding: 10px; margin-top: 20px;">このボックスは削除できます。</div>
  <button id="remove-box-btn">ボックスを削除</button>

  <button id="remove-box-btn">ボックスを削除</button>

  <h2>複数の要素のスタイル変更</h2>
  <div class="styled-item">アイテム 1</div>
  <div class="styled-item">アイテム 2</div>
  <div class="styled-item">アイテム 3</div>
  <button id="change-all-styles-btn">全てのアイテムのスタイルを変更</button>

  <script>
      // DOM要素を取得
      const mainTitle = document.getElementById('main-title');
      const paragraph = document.querySelector('p');
      const changeTextButton = document.getElementById('change-text-btn');
      const toggleHighlightButton = document.getElementById(
        'toggle-highlight-btn'
      );

      // テキスト変更ボタンのクリックイベント
      changeTextButton.addEventListener('click', () => {
        paragraph.textContent = 'テキストが変更されました！';
      });

      // ハイライト切替ボタンのクリックイベント
      toggleHighlightButton.addEventListener('click', () => {
        mainTitle.classList.toggle('highlight');
      });

      // 要素の動的追加
      const addListItemButton = document.getElementById('add-list-item-btn');
      const myList = document.getElementById('my-list');
      let itemCounter = 0;

      addListItemButton.addEventListener('click', () => {
        itemCounter++;
        const newItem = document.createElement('li');
        newItem.textContent = `新しいアイテム ${itemCounter}`;
        myList.appendChild(newItem);
      });

      // マウスイベント
      const hoverBox = document.getElementById('hover-box');

      hoverBox.addEventListener('mouseover', () => {
        hoverBox.style.backgroundColor = 'lightcoral';
        hoverBox.textContent = '乗ったね！';
      });

      hoverBox.addEventListener('mouseout', () => {
      hoverBox.style.backgroundColor = 'lightblue';
      hoverBox.textContent = 'マウスを乗せてみて！';
    });

    // --- フォーム入力の取得と表示 --- //
    const inputText = document.getElementById('input-text');
    const displayInputButton = document.getElementById('display-input-btn');
    const displayArea = document.getElementById('display-area');

    displayInputButton.addEventListener('click', () => {
      displayArea.textContent = `入力されたテキスト: ${inputText.value}`;
      inputText.value = ''; // 入力フィールドをクリア
    });

    // --- 属性の変更 --- //
    const myImage = document.getElementById('my-image');
    const changeImageButton = document.getElementById('change-image-btn');
    let isImageOne = true;

    changeImageButton.addEventListener('click', () => {
      if (isImageOne) {
        myImage.setAttribute('src', 'https://via.placeholder.com/150/FF0000/FFFFFF?text=Image+Two');
        myImage.setAttribute('alt', '赤いプレースホルダー画像');
      } else {
        myImage.setAttribute('src', 'https://via.placeholder.com/150');
        myImage.setAttribute('alt', 'プレースホルダー画像');
      }
      isImageOne = !isImageOne;
    });

    // --- 要素の削除 --- //
    const removableBox = document.getElementById('removable-box');
    const removeBoxButton = document.getElementById('remove-box-btn');

    removeBoxButton.addEventListener('click', () => {
      if (removableBox) {
        removableBox.remove(); // 要素を削除
        removeBoxButton.disabled = true; // ボタンを無効化
        removeBoxButton.textContent = 'ボックスは削除されました';
      }
    });
  </script>
</body>
</html>
